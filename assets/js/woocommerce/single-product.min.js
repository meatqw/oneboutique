(function(c){"use strict";var d=d||{};d.init=function(){d.$body=c(document.body),d.$window=c(window),d.$header=c("#site-header");this.productVariation();this.singleProductV1();this.singleProductV2();this.singleProductV3();this.singleProductV4();this.singleProductV5();this.productTabs();this.stickyATC();this.productVideo();this.productVideoPopup();this.relatedProductsCarousel()};d.productThumbnails=function(i){var t=c(".woocommerce-product-gallery"),a=t.find(".flex-control-thumbs"),n=t.find(".woocommerce-product-gallery__image.razzi-product-video");t.imagesLoaded(function(){setTimeout(function(){var e=t.data("columns");a.wrap('<div class="woocommerce-product-gallery__thumbs-carousel swiper-container" style="opacity:0"></div>');a.addClass("swiper-wrapper");a.find("li").addClass("swiper-slide");a.after('<span class="razzi-svg-icon rz-thumbs-button-prev rz-swiper-button"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="15 18 9 12 15 6"></polyline></svg></span>');a.after('<span class="razzi-svg-icon rz-thumbs-button-next rz-swiper-button"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="9 18 15 12 9 6"></polyline></svg></span>');var o={slidesPerView:e,loop:false,autoplay:false,speed:800,watchOverflow:true,spaceBetween:15,navigation:{nextEl:".rz-thumbs-button-next",prevEl:".rz-thumbs-button-prev"},on:{init:function(){a.parent().css("opacity",1)}},breakpoints:{300:{spaceBetween:0,allowTouchMove:false},991:{spaceBetween:15}}};if(i){o.direction="vertical"}else{o.direction="horizontal"}new Swiper(a.parent(),o);c("li",a).append("<span/>");if(n.length>0){var r=c(".woocommerce-product-gallery").data("video")-1;c(".woocommerce-product-gallery").addClass("has-video");a.find("li").eq(r).append('<div class="razzi-i-video"></div>')}},200)})};d.singleProductV1=function(){var e=c("div.product.layout-v1");if(!e.length){return}d.productThumbnails(false);c(".woocommerce-product-gallery").on("product_thumbnails_slider_horizontal",function(){d.productThumbnails(false)})};d.singleProductV2=function(){var e=c("div.product.layout-v2");if(!e.length){return}d.productThumbnails(true);c(".woocommerce-product-gallery").on("product_thumbnails_slider_vertical",function(){d.productThumbnails(true)})};d.singleProductV3=function(){var e=c("div.product.layout-v3");if(!e.length){return}d.responsiveProductGallery();d.zoomProductImages();c(".woocommerce-product-gallery").on("razzi_gallery_init_zoom",function(){d.zoomProductImages()})};d.singleProductV4=function(){var e=c("div.product.layout-v4");if(!e.length){return}o();c(".woocommerce-product-gallery").on("product-images-slider",function(){o()});function o(){var o=c(".woocommerce-product-gallery"),r=o.find(".woocommerce-product-gallery__wrapper");o.imagesLoaded(function(){if(o.find(".woocommerce-product-gallery__image").length<2){return}o.addClass("swiper-container");r.addClass("swiper-wrapper");r.children().addClass("swiper-slide");r.after('<span class="razzi-svg-icon rz-swiper-button-prev rz-swiper-button"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="15 18 9 12 15 6"></polyline></svg></span>');r.after('<span class="razzi-svg-icon rz-swiper-button-next rz-swiper-button"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="9 18 15 12 9 6"></polyline></svg></span>');r.after('<div class="swiper-pagination"></div>');var e={loop:false,autoplay:false,speed:800,watchOverflow:true,spaceBetween:10,navigation:{nextEl:".rz-swiper-button-next",prevEl:".rz-swiper-button-prev"},pagination:{el:".swiper-pagination",type:"bullets",clickable:true},breakpoints:{0:{slidesPerView:1,slidesPerGroup:1},481:{slidesPerView:2,slidesPerGroup:1}}};new Swiper(o,e)})}d.zoomProductImages();c(".woocommerce-product-gallery").on("razzi_gallery_init_zoom",function(){d.zoomProductImages()})};d.singleProductV5=function(){var e=c("div.product.layout-v5");if(!e.length){return}d.zoomProductImages();c(".woocommerce-product-gallery").on("razzi_gallery_init_zoom",function(){d.zoomProductImages()});d.responsiveProductGallery()};d.zoomProductImages=function(){c(".woocommerce-product-gallery").find(".woocommerce-product-gallery__image").each(function(){d.zoomSingleProductImage(this)})};d.productTabs=function(){var e=c("div.product");if(!e.hasClass("product-tabs-under-summary")){return}var o=e.find(".woocommerce-tabs"),r=window.location.hash;if(r.toLowerCase().indexOf("comment-")>=0||r==="#reviews"||r==="#tab-reviews"){o.find(".tab-title-reviews").addClass("active");o.find(".woocommerce-Tabs-panel--reviews").show()}c(".woocommerce-review-link").on("click",function(){c(".razzi-accordion-title.tab-title-reviews").trigger("click")});o.on("click",".razzi-accordion-title",function(e){e.preventDefault();if(c(this).hasClass("active")){c(this).removeClass("active");c(this).siblings(".woocommerce-Tabs-panel").stop().slideUp(300)}else{o.find(".razzi-accordion-title").removeClass("active");o.find(".woocommerce-Tabs-panel").slideUp();c(this).addClass("active");c(this).siblings(".woocommerce-Tabs-panel").stop().slideDown(300)}})};d.relatedProductsCarousel=function(){var e=c(".products.related, .products.upsells");if(!e.length){return}var o=e.find("ul.products");var r=jQuery(document.body).hasClass("razzi-product-card-solid")?false:true;o.wrap('<div class="swiper-container linked-products-carousel" style="opacity: 0;"></div>');o.addClass("swiper-wrapper");o.find("li.product").addClass("swiper-slide");var i={loop:false,on:{init:function(){this.$el.css("opacity",1)}},spaceBetween:r,breakpoints:{300:{slidesPerView:razziData.mobile_portrait==""?2:razziData.mobile_portrait,slidesPerGroup:razziData.mobile_portrait==""?2:razziData.mobile_portrait,spaceBetween:r==true?15:0},480:{slidesPerView:razziData.mobile_landscape==""?3:razziData.mobile_landscape,slidesPerGroup:razziData.mobile_landscape==""?3:razziData.mobile_landscape},768:{spaceBetween:r==true?30:0,slidesPerView:3,slidesPerGroup:3},992:{slidesPerView:3,slidesPerGroup:3},1200:{slidesPerView:4,slidesPerGroup:4,spaceBetween:r==true?30:0}}};if(razziProductData.related_product_navigation=="scrollbar"){o.after('<div class="swiper-scrollbar"></div>');i["scrollbar"]={el:".swiper-scrollbar",hide:false,draggable:true}}else if(razziProductData.related_product_navigation=="arrows"){o.after('<span class="razzi-svg-icon rz-swiper-button-prev rz-swiper-button"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="15 18 9 12 15 6"></polyline></svg></span>');o.after('<span class="razzi-svg-icon rz-swiper-button-next rz-swiper-button"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="9 18 15 12 9 6"></polyline></svg></span>');i["navigation"]={nextEl:e.find(".rz-swiper-button-next"),prevEl:e.find(".rz-swiper-button-prev")}}else{o.after('<div class="swiper-pagination"></div>');i["pagination"]={el:e.find(".swiper-pagination"),type:"bullets",clickable:true}}new Swiper(e.find(".linked-products-carousel"),i)};d.productVariation=function(){d.$body.on("tawcvs_initialized",function(){c(".variations_form").off("tawcvs_no_matching_variations");c(".variations_form").on("tawcvs_no_matching_variations",function(e,o){e.preventDefault();c(".variations_form").find(".woocommerce-variation.single_variation").show();if(typeof wc_add_to_cart_variation_params!=="undefined"){c(".variations_form").find(".single_variation").slideDown(200).html("<p>"+wc_add_to_cart_variation_params.i18n_no_matching_variations_text+"</p>")}})});c(".variations_form").on("found_variation.wc-variation-form",function(e,o){var r=c(".div.product").find(".sku_wrapper .sku");if(typeof r.wc_set_content!=="function"){return}if(typeof r.wc_reset_content!=="function"){return}if(o.sku){r.wc_set_content(o.sku)}else{r.wc_reset_content()}})};d.zoomSingleProductImage=function(e){if(typeof wc_single_product_params=="undefined"||!c.fn.zoom){return}if("1"!==razziData.product_image_zoom){return}var o=c(e),i=o.width(),t=false;o.each(function(e,o){var r=c(o).find("img");if(r.data("large_image_width")>i){t=true;return false}});if(t){var r=c.extend({touch:false},wc_single_product_params.zoom_options);if("ontouchstart"in document.documentElement){r.on="click"}o.trigger("zoom.destroy");o.zoom(r)}};d.responsiveProductGallery=function(){if(typeof razziData.product_gallery_slider==="undefined"){return}if(razziData.product_gallery_slider||!c.fn.wc_product_gallery){return}var e=c(window),o=c(".woocommerce div.product"),r=false,i={};if(!o.length){return}var t=c(".woocommerce-product-gallery",o),a=t.clone(),n=t.find(".woocommerce-product-gallery__image.razzi-product-video"),s=false;a.children(".woocommerce-product-gallery__trigger").remove();a.off();if(typeof wc_single_product_params!==undefined){r=wc_single_product_params.flexslider_enabled;i=wc_single_product_params.flexslider}l();e.on("resize",l);function l(){if(e.width()>=992){if(!s){return}if(typeof wc_single_product_params!==undefined){wc_single_product_params.flexslider_enabled=r;wc_single_product_params.flexslider=i}t.replaceWith(a.clone());t=c(".woocommerce-product-gallery",o);t.each(function(){c(this).wc_product_gallery()});c("form.variations_form select",o).trigger("change");if("1"===razziData.product_image_zoom&&o.hasClass("layout-v3","layout-v5")){t.find(".woocommerce-product-gallery__image").each(function(){d.zoomSingleProductImage(this)})}s=false}else{if(s){return}if(typeof wc_single_product_params!==undefined){wc_single_product_params.flexslider_enabled=true;wc_single_product_params.flexslider.controlNav=true}t.replaceWith(a.clone());t=c(".woocommerce-product-gallery",o);setTimeout(function(){t.each(function(){c(this).wc_product_gallery()})},100);c("form.variations_form select",o).trigger("change");s=true;if(n.length>0){c(".woocommerce-product-gallery").addClass("has-video")}}}};d.stickyATC=function(){var o=c("#razzi-sticky-add-to-cart"),e=o.find(".razzi-sticky-add-to-cart__content-button");if(!o.length){return}if(!c("div.product .entry-summary .cart").length){return}var r=0,i;if(d.$body.hasClass("admin-bar")){r+=32}var t=o.hasClass("razzi-sticky-atc_top")?true:false;function a(){i=c(".entry-summary .cart").offset().top+c(".entry-summary .cart").outerHeight()-r;if(window.pageYOffset>i){o.addClass("open");if(d.$body.hasClass("header-sticky")&&t){d.$body.find(".site-header").addClass("rz-header_sticky-act-active")}}else{o.removeClass("open");d.$body.find(".site-header").removeClass("rz-header_sticky-act-active")}if(!t){var e=document.body.scrollHeight;if(window.pageYOffset>e-window.innerHeight){o.removeClass("open")}}}d.$window.on("scroll",function(){a()}).trigger("scroll");if(!e.hasClass("ajax_add_to_cart")){e.on("click",function(e){e.preventDefault();c("html,body").stop().animate({scrollTop:c(".entry-summary").offset().top},"slow")})}};d.productVideo=function(){var i=c(".woocommerce-product-gallery");var e=i.find(".woocommerce-product-gallery__image.razzi-product-video");var o=i.find(".flex-control-thumbs");if(e.length<1){return}o.on("click","li",function(){var e=i.find(".razzi-product-video");var o=e.find("iframe"),r=e.find("video.wp-video-shortcode");if(o.length>0){o.attr("src",o.attr("src"))}if(r.length>0){r[0].pause()}return false});e.find(".video-vimeo > iframe").attr("width","100%").attr("height",500);o.find("li").on("click",".razzi-i-video",function(e){e.preventDefault();c(this).closest("li").find("img").trigger("click")})};d.productVideoPopup=function(){var e=c(".woocommerce-product-gallery").find(".razzi-product-video--icon");if(e.length<1){return}var o={type:"iframe",mainClass:"mfp-fade",removalDelay:300,preloader:false,fixedContentPos:false,iframe:{markup:'<div class="mfp-iframe-scaler">'+'<div class="mfp-close"></div>'+'<iframe class="mfp-iframe" frameborder="0" allow="autoplay"></iframe>'+"</div>",patterns:{youtube:{index:"youtube.com/",id:"v=",src:"https://www.youtube.com/embed/%id%?autoplay=1"},vimeo:{index:"vimeo.com/",id:"/",src:"//player.vimeo.com/video/%id%?autoplay=1"}},srcAction:"iframe_src"}};e.magnificPopup(o)};c(function(){d.init()})})(jQuery);